<!-- <h3>{{userInfo | json}}</h3> -->
<div >
  <div class="container-fluid">
    <div class="row pb-4">
      <div class="col-xl-3 col-lg-3 col-md-10 col-sm-12 mx-auto profile-info-card h-50">

      
        <mat-card class="mat-elevation-z8 ">
          
          <mat-card-title>
          </mat-card-title>
          <mat-card-content>

            <div class="row">
              <div class="col-lg-12 col-md-5 col-sm-5">
                <img src="{{userInfo?.user_profile !== ''? 'http://intrinsic-power-frontend.s3-website-us-east-1.amazonaws.com/'+userInfo?.user_profile:'../../../assets/images/user_profile.png'}}" alt="user-icon">
              </div>
              <div class="col-lg-12 col-md-5 col-sm-5 text-center pb-5 mb-3 profile-info mx-auto">
                <h3 class="text-capitalize">{{userInfo?.first_name}} {{userInfo?.last_name}}</h3>
                <p class="card-text"><em>{{userInfo?.email}}</em></p>
              </div>
            </div>
            </mat-card-content>
        </mat-card>   
      </div>
      
      <div class="col-xl-6 col-lg-6 col-md-10 col-sm-12 mx-auto profile-info-form">
        <mat-card class="mat-elevation-z8 px-2  {{!isEdit?'':'edit'}}">
          <mat-card-title class="h6 d-flex"><mat-icon >info</mat-icon><span class="mt-1 mx-2">Profile</span></mat-card-title>
          <mat-card-content class="pt-3">
            <form class="row p-2 px-4 pb-5 mb-3" [formGroup]="updateUserInfoForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
              <div class="col-lg-3 col-md-12 col-sm-12 mx-auto img-content" >
                <div id="profile-edit-spinner" hidden>
                  <div class="spinner-border text-info edit-profile-spinner" role="status">
                  </div>
                </div>

                <img class="mx-auto" src="{{(userInfo?.user_profile !=='' && profile_image_url! ==='')?('http://intrinsic-power-frontend.s3-website-us-east-1.amazonaws.com/'+userInfo?.user_profile):((userInfo?.user_profile !=='' || profile_image_url!=='')? profile_image_url:'../../../assets/images/user_profile.png')}}" alt="user-icon">

                <mat-icon class="profile-edit-icon align-edit-icon" [hidden]="!isEdit" (click)="choose_profile_picture()" >mode_edit</mat-icon >
                  <input type="file" name="prfile_image" id="profile_image" formControlName="profile_image"  style="display: none;" (change)="upload_profile_image($event)">
                  <input type="text" name="prfile_image_path" id="profile_image_path" formControlName="profile_image_path"  style="display: none;" [ngModel]="profile_image_new_path===''?userInfo?.user_profile:profile_image_new_path">
              </div>
              <div class="col-lg-8 col-md-11 col-sm-12  mx-auto form-content">
                <button class="btn edit-btn" *ngIf="!isEdit" (click)="isEdit=!isEdit"><i class='bx bx-pencil'></i></button>
                  <div class="row my-4">
                    <div class="col-lg-3 col-md-3 col-sm-2">
                      <label for="first_name" class="text-capitalize">first name</label>
                    </div>
                    <div class="col-lg-9 col-md-9">
                      <input type="text" [ngClass]="!isEdit ? 'form-control pe-none':'form-control'" name="first_name" formControlName="first_name" [ngModel]="userInfo?.first_name" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.first_name.touched && updateUserInfoFormControl.first_name.invalid)">First Name is required</span>
                    </div>
                  </div>
                  <div class="row my-4">
                    <div class="col-lg-3 col-md-3">
                      <label for="last name" class="text-capitalize mt-2">last name</label>
                    </div>
                    <div class="col-lg-9 col-md-9">
                      <input type="text" [ngClass]="!isEdit ? 'form-control pe-none mt-2':'form-control'" name="last_name" formControlName="last_name" [ngModel]="userInfo?.last_name" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.last_name.touched && updateUserInfoFormControl.last_name.invalid)">Last Name is required</span>
                    </div>
                  </div>

                  <div class="row my-4">
                    <div class="col-lg-3 col-md-3">
                      <label for="phone_number" class="text-capitalize mt-2">phone number</label>
                    </div>
                    <div class="col-lg-9 col-md-9">
                      <input type="text" [ngClass]="!isEdit ? 'form-control pe-none mt-2':'form-control'" name="phone_number" formControlName="phone_number" [ngModel]="userInfo?.phone_number!=='+11111'? userInfo?.phone_number:''" [readOnly]="!isEdit">
                    </div>
                  </div>
                  <div class="row my-4">
                    <div class="col-lg-3 col-md-3">
                      <label for="postal_code" class="text-capitalize mt-2">Postal Code</label>
                    </div>
                    <div class="col-lg-9 col-md-9">
                      <input type="text" [ngClass]="!isEdit ? 'form-control pe-none mt-2':'form-control'" name="postal_code" formControlName="postal_code" [ngModel]="userInfo?.postal_code" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.postal_code.touched && updateUserInfoFormControl.postal_code.invalid)">Postal Code is required</span>
                    </div>
                  </div>
                  <div class="row my-4">
                    <div class="col-lg-3 col-md-3">
                      <label for="country" class="text-upercase mt-2">Country</label>
               
                    </div>
                    <div class="col-lg-9 col-md-9">
                      <select name="country"  [ngClass]="!isEdit ? 'form-control pe-none mt-2':'form-control'" formControlName="country" [ngModel]="userInfo?.country">
                          <option value="united states" >United states</option>
                          <option value="canada" >Canada</option>
                      </select>
                      <!-- <span class="text-danger" *ngIf="(updateUserInfoFormControl.country.touched && updateUserInfoFormControl.country.invalid)">Country is required</span> -->
                    </div>
                  </div>
                 
                  <!-- <div class="row">
                    <div class="col-6">
                      <label for="first_name" class="text-capitalize mt-2">first name</label>
                      <input type="text" class="form-control mt-2" name="first_name" formControlName="first_name" [ngModel]="userInfo?.first_name" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.first_name.invalid)">First Name is required</span>
                    </div>
                    <div class="col-6">
                      <label for="last name" class="text-capitalize mt-2">last name</label>
                      <input type="text" class="form-control mt-2" name="last_name" formControlName="last_name" [ngModel]="userInfo?.last_name" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.last_name.touched && updateUserInfoFormControl.last_name.invalid)">Last Name is required</span>
                    </div>
                  </div>
                  
                  <div class="row">
                    <div class="col-6">
                      <label for="phone_number" class="text-capitalize mt-2">phone number</label>
                      <input type="text" class="form-control mt-2" name="phone_number" formControlName="phone_number" [ngModel]="userInfo?.phone_number" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.phone_number.touched && updateUserInfoFormControl.phone_number.invalid)">Phone Number is required</span>
                    </div>
                    <div class="col-6">
                      <label for="zip" class="text-capitalize mt-2">zipcode</label>
                      <input type="text" class="form-control mt-2" name="zip" formControlName="zip" [ngModel]="userInfo?.zip" [readOnly]="!isEdit">
                      <span class="text-danger" *ngIf="(updateUserInfoFormControl.zip.touched && updateUserInfoFormControl.zip.invalid)">Zipcode is required</span>
                    </div>
                  </div>
                   -->
                  <div class="row justify-content-end">
                    <div class="col-xl-12 col-lg-12 col-md-12">
                      <button class="btn btn-dark mt-1 float-end mx-2" (click)="isEdit=!isEdit" (click)="profile_image_url =''" [hidden]="!isEdit">Cancel</button>
                      <button type="submit"  class="btn btn-primary mt-1 mx-2 float-end"  (click)="updateUserInfoOnSubmit=!updateUserInfoOnSubmit" *ngIf="isEdit">Update</button>
                    </div>
                    <!-- <div class="col-6"> -->
                      <!-- <button class="btn btn-success mt-3 float-end" *ngIf="isEdit">Update</button> -->
                      <!-- <button type="submit"  class="btn btn-primary mt-3 float-end"  (click)="updateUserInfoOnSubmit=!updateUserInfoOnSubmit" *ngIf="isEdit">Update</button> -->
                      <!-- <input type="submit" value="Update" class="btn btn-primary mt-3 float-end"  (click)="updateUserInfoOnSubmit=!updateUserInfoOnSubmit" *ngIf="isEdit"> -->
  
                    <!-- </div> -->
                  </div>
              </div>
            </form>
          </mat-card-content>
        </mat-card>
      </div>
      <div class="col-xl-3 col-lg-3 col-md-10 col-sm-12 mx-auto profile-info-card h-50 ">

      
        <!-- <mat-card class="mat-elevation-z8">
          
          <mat-card-title>
          </mat-card-title>
          <mat-card-content>

            <div class="row">
              <div class="col-lg-12 col-md-5 col-sm-5">
                <img src="{{userInfo?.user_profile !== ''? 'http://intrinsic-power-frontend.s3-website-us-east-1.amazonaws.com/'+userInfo?.user_profile:'../../../assets/images/user_profile.png'}}" alt="user-icon">
              </div>
              <div class="col-lg-12 col-md-5 col-sm-5 text-center pb-5 mb-3 profile-info mx-auto">
                <h3 class="text-capitalize">{{userInfo?.first_name}} {{userInfo?.last_name}}</h3>
                <p class="card-text"><em>{{userInfo?.email}}</em></p>
              </div>
            </div>
            </mat-card-content>
        </mat-card>    -->
          <mat-card class="mat-elevation-z8 pt-5">
            <mat-card-subtitle></mat-card-subtitle>
            
                  <mat-card-content>
  
                  <div class="row mt-3 ml-1 dash-user-info text-center"> <span class="text-capitalize">Member Since:
                          {{userInfo?.created_at| date}}</span>
                  </div>
  
                  <p class="mt-3 ">Total Energy:</p>
                  <div class="progress">
                      <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">70%</div>
                  </div>
                  <p class="mt-4">CO2 Offset:</p>
                  <div class="progress">
                      <div class="progress-bar bg-danger progress-bar-striped progress-bar-animated" role="progressbar" style="width: 70%" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100">70%</div>
                  </div>
              </mat-card-content>
          </mat-card>
      </div>
    </div>
  </div>
    
    
</div>
<ngx-spinner bdColor="rgba(255, 255, 255,0.85)" size="large"  type="ball-spin-clockwise">  
  <div class="loader">
    <div class="spinner " role="status">
        <span class="visually-hidden mb-5">Loading...</span>
    </div>
  </div>
</ngx-spinner> 
